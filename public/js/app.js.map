{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["$(function () {    \n    $.fn.extend({\n        insertAtCaret: function(myValue){\n            return this.each(function(i) {\n                if (document.selection) {\n                    //For browsers like Internet Explorer\n                    this.focus();\n                    var sel = document.selection.createRange();\n                    sel.text = myValue;\n                    this.focus();\n                }\n                else if (this.selectionStart || this.selectionStart == '0') {\n                    //For browsers like Firefox and Webkit based\n                    var startPos = this.selectionStart;\n                    var endPos = this.selectionEnd;\n                    var scrollTop = this.scrollTop;\n                    this.value = this.value.substring(0, startPos)+myValue+this.value.substring(endPos,this.value.length);\n                    this.focus();\n                    this.selectionStart = startPos + myValue.length;\n                    this.selectionEnd = startPos + myValue.length;\n                    this.scrollTop = scrollTop;\n                } else {\n                    this.value += myValue;\n                    this.focus();\n                }\n            });\n        }\n    });\n    \n    String.prototype.capitalize = function() {\n        return this.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\n    };    \n    \n    $('[data-toggle=\"popoverload\"]').click(function(event) {\n\tvar e=$(this);\n        if (e.data('by') == 'name') {       \n            if (typeof e.data('name') !== 'undefined') {\n                var uri = location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: '') + '/' +  e.data('type') + '/byname/'+ e.data('name');\n            }            \n            else {\n                var uri = location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: '') + '/' +  e.data('type') + '/byname/'+ e.text();\n            }            \n        }\n        else {\n            var uri = location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: '') + '/' +  e.data('type') + '/' + e.data('id') + '/justcontent';\n        }\n\t$.get(uri,function(d) {\t  \n\t    e.popover({html: true, content: d}).popover('show');\n\t});\n\tevent.preventDefault();\n    });\n    $('[data-toggle=\"popoverload\"]').focusout(function(event) {\n\t$(this).popover('hide');\n    });\n    $('[data-paste=\"remove-newlines\"]').on('paste', function(event){\n        var element = $(this);\n        var dt = event.originalEvent.clipboardData;\n        if(dt && dt.items && dt.items[0]){\n            dt.items[0].getAsString(function(text){\n                element.insertAtCaret(text.replace(/\\r?\\n|\\r/g, ' '));\n            });\n        }\n        else if(dt && 'getData' in dt){\n            element.insertAtCaret(dt.getData('text').replace(/\\r?\\n|\\r/g, ' '));\n        }        \n\tevent.preventDefault();        \n    });    \n    $('[data-paste=\"capitalize\"]').on('paste', function(event){\n        var element = $(this);\n        var dt = event.originalEvent.clipboardData;\n        if(dt && dt.items && dt.items[0]){\n            dt.items[0].getAsString(function(text){\n                element.insertAtCaret(text.capitalize());\n            });\n        }\n        else if(dt && 'getData' in dt){\n            element.insertAtCaret(dt.getData('text').capitalize());\n        }        \n\tevent.preventDefault();        \n    });     \n    var repeateble_count = 0;\n    $('[data-click=\"repeateble-add\"]').click(function(event) {        \n        repeateble_count ++;\n        var repeateble_element = $(this).parent().parent().parent().parent().find('.repeateble-template').clone().removeClass('repeateble-template').addClass('repeateble-element');\n        $('[data-extra-toggle=\"1\"]', repeateble_element).hide();\n        $('[data-click=\"repeateble-remove\"]', repeateble_element).click(function(event) {\n            $(this).parent().parent().remove();\n        });        \n        var id = repeateble_count;        \n        \n        $('[data-change=\"check-extra\"]', repeateble_element).change(function(event) {\n            //id = $('option:selected', this).val();            \n            var extra = $('option:selected', this).data('extra');\n            if (typeof extra !== 'undefined') {\n                \n                name =  $(this).attr('name');\n                name = name.replace(/\\[(\\d+)?\\]/, '['+id+']');                \n                $(this).attr('name', name);                                \n                //id = $('option:selected', this).val();\n                name =  $(this).parent().parent().parent().find('[data-extra-toggle=\"1\"]').attr('name');\n                name = name.replace(/\\[(\\d+)?\\]/, '['+id+']');\n                if (extra == 'options') {\n                    var options = $('option:selected', this).data('options');\n                    name =  $(this).parent().parent().parent().find('[data-extra-toggle=\"1\"]').attr('name');\n                    name = name.replace(/\\[(\\d+)?\\]/, '['+id+']');\n                    for(i=0; i < options.length ; i++) {\n                        $(this).parent().parent().parent().find('[data-extra-toggle=\"1\"]').append($('<option>', { \n                            value: options[i].id,\n                            text : options[i].name \n                        }));\n                    }\n                    $(this).parent().parent().parent().find('[data-extra-toggle=\"1\"]').removeAttr('disabled').attr('name', name).show();\n                }\n                else {                            \n                    if (Array.isArray(extra)) {\n                        for (i = 0;i < extra.length; i++) {\n                            name =  $(this).parent().parent().parent().find('[data-extra-toggle=\"'+extra[i]+'\"]').attr('name');\n                            name = name.replace(/\\[(\\d+)?\\]/, '['+id+']');\n                            $(this).parent().parent().parent().find('[data-extra-toggle=\"'+extra[i]+'\"]').removeAttr('disabled').attr('name', name).show();\n                        }\n                    }\n                    else {\n                        name =  $(this).parent().parent().parent().find('[data-extra-toggle=\"1\"]').attr('name');\n                        name = name.replace(/\\[(\\d+)?\\]/, '['+id+']');                        \n                        $(this).parent().parent().parent().find('[data-extra-toggle=\"1\"]').removeAttr('disabled').attr('name', name).show();\n                    }\n                }\n            }\n            else {\n                //$(this).attr('name', $(this).data('org-name'));                \n                name =  $(this).parent().parent().parent().find('[data-extra-toggle=\"1\"]').attr('name');\n                name = name.replace(/\\[(\\d+)\\]/, '[]');                \n                $(this).parent().parent().parent().find('[data-extra-toggle=\"1\"]').val('').attr('disabled', 'disabled').attr('name', name).hide();\n            }\n        });\n        \n        $('[data-toggle=\"popoverload-selected\"]', repeateble_element).click(function(event) {\n            var e=$(this);\n            var uri = location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: '') + '/' +  e.data('type') + '/' + e.parent().prev().val() + '/justcontent';\n            $.get(uri,function(d) {\t  \n                e.popover({html: true, content: d, container: 'body'}).popover('show');\n            });\n            event.preventDefault();\n        });    \n        $('[data-toggle=\"popoverload-selected\"]', repeateble_element).focusout(function(event) {\n            $(this).popover('hide');\n        });            \n        \n        $('[data-change=\"check-extra\"]', repeateble_element).change();\n        $(this).parent().parent().parent().append(repeateble_element);        \n        $('[data-change=\"check-extra\"]', repeateble_element).focus();\n    });    \n    \n    $('[data-submit=\"repeateble-remove\"]').submit(function(event) { \n        $('.repeateble-template').remove();\n    });    \n    \n    $('[data-load=\"repeateble-add\"]').each(function(){\n        var holderElement = $(this).parent();       \n        $('[data-click=\"repeateble-add\"]', holderElement).click();\n        var currentElement = $('.repeateble-element:last-child', holderElement);\n        $('[data-change=\"check-extra\"]', currentElement).val($(this).data('id')).change();\n        var extra = $(this).data('extra');\n        if (typeof extra !== 'undefined') {\n            if (Array.isArray(extra)) {\n                for (i = 0;i < extra.length; i++) {\n                        $('[data-extra-toggle=\"'+extra[i]+'\"]', currentElement).val($(this).data('extra-'+extra[i]));\n\n                }\n            }\n            else {\n                $('[data-extra-toggle=\"1\"]', currentElement).val($(this).data('extra'));\n            }            \n        }         \n        \n        $('[data-toggle=\"popoverload-selected\"]', currentElement).click(function(event) {\n            var e=$(this);\n            var uri = location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: '') + '/' +  e.data('type') + '/' + e.parent().prev().val() + '/justcontent';\n            $.get(uri,function(d) {\t  \n                e.popover({html: true, content: d, container: 'body'}).popover('show');\n            });\n            event.preventDefault();\n        });    \n        $('[data-toggle=\"popoverload-selected\"]', currentElement).focusout(function(event) {\n            $(this).popover('hide');\n        });            \n    });\n    \n    $('.collapse').on('shown.bs.collapse', function (event) {\n        $('html, body').animate({\n            scrollTop: $(this).parent().offset().top\n        }, 500);        \n    });    \n}); "]}